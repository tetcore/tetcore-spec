# TET-006  
## Node Mode Specification  
**Status:** Draft v1.0  
**Category:** Core Foundation  

---

# 1. Purpose

This specification defines the operational roles of nodes within a Tetcore network.

Tetcore separates responsibilities across four primary node modes:

1. Client Nodes  
2. Validator Nodes  
3. Inference Operator Nodes  
4. Relay Nodes  

Each role has defined capabilities, permissions, and constraints.

Nodes MAY operate in multiple modes simultaneously unless explicitly restricted by governance.

---

# 2. General Requirements

All nodes MUST:

- Implement TET-001 deterministic state machine
- Follow TET-002 consensus rules (if validator)
- Implement TET-003 cryptographic identity
- Encode transactions per TET-004
- Respect multi-ledger architecture per TET-005

No node may bypass consensus-critical validation.

---

# 3. Client Nodes

---

## 3.1 Purpose

Client nodes originate transactions.

They may:

- SubmitPrompt
- SubmitReceipt (if operator)
- Stake
- GovernanceProposal
- ContractCall
- Transfer tokens

---

## 3.2 Capabilities

Client nodes:

- Maintain wallet keys
- Construct canonical transactions
- Query chain state
- Monitor receipts
- Track balances

Client nodes are NOT consensus participants.

---

## 3.3 Storage Requirements

Client nodes MAY:

- Operate in light mode (minimal state)
- Rely on RPC from full nodes
- Store local prompt data (off-chain only)

Prompts MUST NOT be stored on-chain.

---

## 3.4 Security Model

Clients are responsible for:

- Private key management
- Salt generation for commitments
- Prompt confidentiality

Protocol does not protect against local key compromise.

---

# 4. Validator Nodes

---

## 4.1 Purpose

Validators maintain consensus and replicate state.

---

## 4.2 Responsibilities

Validators MUST:

- Validate transactions
- Execute deterministic state transitions
- Participate in BFT voting
- Store full core ledger
- Produce blocks
- Sign validation messages

---

## 4.3 Prohibited Actions

Validators MUST NOT:

- Skip transaction verification
- Accept non-canonical encodings
- Execute nondeterministic logic
- Modify execution rules locally

---

## 4.4 Optional Roles

Validators MAY also:

- Act as inference operators
- Act as relays
- Provide RPC services

But consensus integrity must remain isolated.

---

## 4.5 Slashing

Validators may be penalized for:

- Double signing
- Conflicting validation
- Invalid block proposal
- Persistent downtime (if defined by governance)

---

# 5. Inference Operator Nodes

---

## 5.1 Purpose

Inference operators execute off-chain intelligence workloads.

They:

- Receive encrypted prompt data
- Run model execution
- Produce outputs
- Submit receipts
- Collect fees

---

## 5.2 Requirements

Inference operators MUST:

- Be registered if required by governance
- Sign SubmitReceipt transactions
- Respect deadline constraints
- Report accurate token usage

---

## 5.3 Off-Chain Execution

Inference computation:

- Occurs outside consensus
- Is not validated by state machine
- Is economically enforced via receipts

Operators MAY use:

- GPUs
- TPUs
- CPUs
- Specialized accelerators

---

## 5.4 Revenue Model

Operators receive:

Revenue = fee × operator_share

Defined in IFP revenue routing specification.

---

## 5.5 Misbehavior

Misbehavior includes:

- False receipt reporting
- Overreporting token usage
- Non-delivery after receipt submission

Penalties may include:

- Slashing
- Blacklisting
- Governance removal

---

# 6. Relay Nodes

---

## 6.1 Purpose

Relays transport encrypted prompt data between:

Client → Operator  
Operator → Client  

Relays do NOT participate in consensus.

---

## 6.2 Responsibilities

Relays MUST:

- Preserve encrypted payload integrity
- Avoid modifying payload
- Avoid storing plaintext data (if encrypted end-to-end)

---

## 6.3 Modes

Relay delivery modes:

0 = Relay-based delivery  
1 = Direct delivery (client ↔ operator)

Relay is optional depending on transaction flag.

---

## 6.4 Economic Model

Relays MAY:

- Charge routing fees (if enabled)
- Be compensated via off-chain agreement
- Participate in future protocol routing rewards

---

# 7. Combined Node Modes

Nodes MAY operate as:

- Validator + Inference Operator
- Validator + Relay
- Operator + Relay
- Full-stack node (all roles)

Governance may impose separation requirements.

---

# 8. Capability Isolation

Node roles must isolate:

- Consensus-critical logic
- Off-chain computation
- Networking interfaces

Failure in inference system MUST NOT affect consensus logic.

---

# 9. Resource Requirements

---

## 9.1 Validator

- Full state storage
- Deterministic execution
- Continuous network connectivity

---

## 9.2 Inference Operator

- Sufficient compute hardware
- Model storage capability
- High network bandwidth

---

## 9.3 Relay

- Low latency networking
- Encrypted transport handling

---

## 9.4 Client

- Secure key storage
- Basic networking

---

# 10. Deterministic Boundaries

Only validators execute:

Δ(S, Tx)

Inference operators NEVER execute state transitions.

Relays NEVER execute state transitions.

Clients NEVER execute state transitions in authoritative mode.

---

# 11. Security Assumptions

Security relies on:

- Honest validator majority
- Economic incentives for operators
- Cryptographic identity enforcement
- Strict separation of concerns

---

# 12. Minimal Network Configuration

Minimal viable Tetcore network requires:

- ≥ 3 validators (recommended ≥ 5)
- At least 1 inference operator
- At least 1 client
- Optional relay

---

# 13. Conclusion

Tetcore’s node architecture enforces:

- Clear separation of duties
- Deterministic consensus replication
- Off-chain intelligence execution
- Flexible deployment modes
- Economic coordination across roles

This separation is critical for scalability and safety.

---

End of TET-006.