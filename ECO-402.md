# ECO-402  
## Fee Stabilization & Market Behavior  
**Status:** Draft v1.0  
**Category:** Economic Layer  

---

# 1. Purpose

This specification defines the fee stabilization model and market behavior controls of Tetcore.

It governs:

- Target average inference fee
- Congestion-based fee adjustments
- Anti-spam protections
- Deterministic fee bounds

The objective is to maintain:

Low predictable fees (~0.001 TNT average)  
Market-based flexibility  
Spam resistance  
Economic sustainability  

---

# 2. Target Fee Objective

Tetcore is designed to maintain:

Expected average inference fee ≈ 0.001 TNT

This is a design target, not a hard cap.

Actual fees may vary based on:

- Model pricing
- Market operator bids
- Network congestion
- Compute intensity

---

# 3. Fee Components

Total inference cost:

F_total = F_inference + F_gas

Where:

F_inference = model pricing (IFP-104)  
F_gas = execution cost (TVM-211)

---

# 4. Congestion Adjustment Mechanism

Tetcore may apply congestion multiplier to inference fees.

---

## 4.1 Congestion Metric

Let:

U = recent network utilization ratio  
Defined as:

U = total_compute_units_recent / max_compute_capacity_window

Measured over fixed window W blocks.

All values derived deterministically from chain data.

---

## 4.2 Congestion Multiplier

Multiplier M defined as:

M = 1 + α × max(0, U - U_target)

Where:

U_target = desired utilization (e.g., 60%)  
α = congestion sensitivity coefficient  

M represented as scaled integer:

M_scaled = floor(M × SCALE)

SCALE fixed (e.g., 10,000).

---

## 4.3 Adjusted Fee

Adjusted fee:

F_adjusted = floor(F_base × M_scaled / SCALE)

Constraint:

F_adjusted ≤ escrow_limit

---

# 5. Fee Floors and Ceilings

---

## 5.1 Minimum Fee

Network minimum inference fee:

F_min ≥ governance_defined_minimum

Prevents zero-cost spam.

---

## 5.2 Soft Ceiling

No absolute cap imposed.

However:

Clients define escrow_limit per request.

This provides user-level fee protection.

---

# 6. Anti-Spam Measures

---

## 6.1 Minimum Escrow Requirement

SubmitPrompt must include:

escrow ≥ F_min

Reject otherwise.

---

## 6.2 Gas Cost Enforcement

Gas cost ensures:

- Contract spam expensive
- Infinite loop impossible
- Memory abuse bounded

---

## 6.3 Rate Limiting via Economics

Spamming requires:

Locking escrow repeatedly.

Since escrow is real token:

Spam economically costly.

---

## 6.4 Optional Per-Block Prompt Cap

Governance may define:

max_prompts_per_block

If exceeded:

Additional prompts deferred to next block.

Must be deterministic ordering.

---

# 7. Market Behavior

---

## 7.1 Operator Competition

In Market or Hybrid mode:

Operators may compete via lower bids.

Lower bids increase demand.

Demand increase → congestion multiplier may activate.

---

## 7.2 Price Discovery

Market pricing naturally balances:

Operator cost vs user willingness to pay.

Congestion multiplier prevents:

Overloading system.

---

# 8. Fee Stability Without Inflation

Because validator revenue derives from:

- Inference fees
- Gas fees

Network sustainability improves with usage.

Low usage → lower validator revenue  
High usage → higher validator revenue  

Inflation not required for stabilization.

---

# 9. Volatility Controls

Governance may adjust:

- α (congestion sensitivity)
- U_target
- F_min
- Window size W

Changes require proposal approval.

---

# 10. Fee Transparency

Network must expose:

- Average fee per block
- Congestion multiplier
- Utilization metric
- Historical fee trend

Transparency encourages rational market behavior.

---

# 11. Determinism Requirements

Congestion calculation must:

- Use only on-chain data
- Use integer arithmetic
- Avoid floating point
- Use fixed window length
- Be identical across nodes

---

# 12. Abuse Resistance

System resists:

- Zero-fee spam
- Artificial congestion manipulation
- Escrow underflow attacks
- Fee rounding exploits

All arithmetic uses checked u128.

---

# 13. Long-Term Fee Behavior

In equilibrium:

Average fee stabilizes near target (~0.001 TET)  
Variance increases during peak demand  
Returns to baseline as congestion falls  

---

# 14. Economic Invariants

- No fee can exceed escrow
- All fee adjustments deterministic
- No implicit fee minting
- Revenue conservation preserved

---

# 15. Example Scenario

Low Utilization (U = 40%)

M = 1  
F_adjusted = F_base  

High Utilization (U = 90%)

M > 1  
F_adjusted increases  
Demand self-regulates  

---

# 16. Governance Safeguards

Governance may not:

- Set α arbitrarily high without timelock
- Remove minimum fee entirely
- Introduce floating-point fee logic
- Break escrow constraints

---

# 17. Formal Fee Adjustment Function

Define:

F_adjusted = Fee(F_base, U, α)

Where:

U computed from deterministic window  
α fixed integer parameter  

F_adjusted bounded by escrow.

---

# 18. Conclusion

ECO-402 defines Tetcore’s fee stabilization system as:

- Targeting ~0.001 TNT average
- Congestion-responsive
- Market-compatible
- Spam-resistant
- Deterministic
- Governance-adjustable

It balances:

Affordability  
Security  
Validator incentives  
Scalability  

Without relying on uncontrolled inflation.

---

End of ECO-402.